<mxfile host="app.diagrams.net" modified="2024-01-18T13:38:22.072Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36" etag="loOZ7jmzowJQ63jep6iI" version="22.1.21" type="device">
  <diagram name="Page-1" id="lSY-32vkGgdi_Iz4j6bx">
    <mxGraphModel dx="2659" dy="989" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-1" target="Dx0_IVGvK_XdZE34GDnF-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-1" target="Dx0_IVGvK_XdZE34GDnF-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-1" value="Login with&amp;nbsp;&lt;br&gt;Selenium" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-2" value="for each hour" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-5" value="success" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="260" y="140" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-6" target="Dx0_IVGvK_XdZE34GDnF-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-6" value="captcha" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="135" y="250" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-7" target="Dx0_IVGvK_XdZE34GDnF-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-7" value="Pass captcha with selnium&amp;nbsp;&lt;br&gt;OR&lt;br&gt;&amp;nbsp;using 3-rd party services" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="330" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-8" value="3-rd party services E.G.&lt;br&gt;capmonster.cloud&lt;br&gt;2captcha.com" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="85" y="430" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-14" target="Dx0_IVGvK_XdZE34GDnF-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-14" value="try another account created before hand" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-150" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-15" target="Dx0_IVGvK_XdZE34GDnF-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-15" value="Account blocked" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-140" y="220" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-16" value="I assume scraping social&lt;br&gt;network requires creating account" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-70" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.509;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-1" target="Dx0_IVGvK_XdZE34GDnF-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-20" value="I assume we scrape for &lt;br&gt;certain time period (a day or so)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="160" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-21" value="I assume data from social netwrok&lt;br&gt;is in html" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="360" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-22" value="Get data" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-24" target="Dx0_IVGvK_XdZE34GDnF-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-24" value="Extract data of interest&lt;br&gt;if necessary" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="760" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-25" value="Save to S3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="950" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-28" value="To maximize chances that we will not be blocked, define a set of behavioral rules that resemble humans" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="560" y="250" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-29" value="E.G.&lt;br&gt;1. Set monitor size (because humans need monitors)&lt;br&gt;2. Change User Agent on each request&lt;br&gt;3. Slow down script execution (humans are much slower than bots)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="530" y="360" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.996;exitY=0.16;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-32" target="Dx0_IVGvK_XdZE34GDnF-24">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-32" value="" style="swimlane;startSize=0;" vertex="1" parent="1">
          <mxGeometry x="525" y="110" width="195" height="380" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.005;entryY=0.157;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Dx0_IVGvK_XdZE34GDnF-2" target="Dx0_IVGvK_XdZE34GDnF-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-66" value="&lt;ul style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding-left: 1rem; margin-inline-start: 0.2rem; color: rgb(69, 69, 69); font-family: sans-serif, sans-serif; text-align: left; background-color: rgb(255, 255, 255);&quot; id=&quot;yui_3_17_2_1_1704287046822_111&quot;&gt;&lt;li style=&quot;box-sizing: border-box; line-height: 28px;&quot; id=&quot;yui_3_17_2_1_1704287046822_110&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;What do you do when the pipeline breaks? (whether there exist possibility to rerun your pipeline and how much time it would take)&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-5" y="570" width="730" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-67" value="&lt;ul style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding-left: 1rem; margin-inline-start: 0.2rem; color: rgb(69, 69, 69); font-family: sans-serif, sans-serif; text-align: left; background-color: rgb(255, 255, 255);&quot; id=&quot;yui_3_17_2_1_1704287046822_111&quot;&gt;&lt;li style=&quot;box-sizing: border-box; line-height: 28px;&quot; id=&quot;yui_3_17_2_1_1704287046822_112&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;How do you control data quality? (propose your metrics)&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="740" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-68" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;1. Completeness - measures the percentage of missing values&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;2. Accuracy - calculates the percentage of inaccuracies or errors in the dataset compared to a trusted source (someone must do it manually - compare the dataset with the website)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;3. Usability -&amp;nbsp;Measures how easily the data can be accessed and used by intended stakeholders.&lt;br&gt;4. Robustness -&amp;nbsp;Identifies and assesses the impact of outliers on the overall quality of the dataset.&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-260" y="780" width="980" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-69" value="&lt;ul style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding-left: 1rem; margin-inline-start: 0.2rem; color: rgb(69, 69, 69); font-family: sans-serif, sans-serif; text-align: left; background-color: rgb(255, 255, 255);&quot; id=&quot;yui_3_17_2_1_1704287046822_111&quot;&gt;&lt;li style=&quot;box-sizing: border-box; line-height: 28px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;How do you scale your pipeline? (suppose that you will need to scale your pipeline from 1 state to 10 states)&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-60" y="910" width="620" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-71" value="&lt;ul style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding-left: 1rem; margin-inline-start: 0.2rem; color: rgb(69, 69, 69); font-family: sans-serif, sans-serif; text-align: left; background-color: rgb(255, 255, 255);&quot; id=&quot;yui_3_17_2_1_1704287046822_111&quot;&gt;&lt;li style=&quot;box-sizing: border-box; line-height: 28px;&quot; id=&quot;yui_3_17_2_1_1704287046822_113&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;What to do when you will be blocked?&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="1105" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-72" value="Change account and IP address (use proxy server)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-5" y="1145" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-73" value="&lt;ul style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding-left: 1rem; margin-inline-start: 0.2rem; color: rgb(69, 69, 69); font-family: sans-serif, sans-serif; text-align: left; background-color: rgb(255, 255, 255);&quot; id=&quot;yui_3_17_2_1_1704287046822_111&quot;&gt;&lt;li style=&quot;box-sizing: border-box; line-height: 28px;&quot; id=&quot;yui_3_17_2_1_1704287046822_115&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Do you not violate the law?&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-5" y="1225" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-74" value="That depends whether I scrape personal information (violate)&lt;br&gt;or just general data (number of posts of all users - not violation)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-30" y="1270" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-75" value="Social network is a complex thing so there could be many possible reasons&lt;br&gt;for pipeline to break. So there is sense to rerun.&lt;br&gt;Max reruns = 3&lt;br&gt;15 minute pause between each rerun&lt;br&gt;Also we would be able to start rerun from the point where fail occurred&lt;br style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;and not from the start.&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" y="615" width="420" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Dx0_IVGvK_XdZE34GDnF-129" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Airflow is an immensely powerful in terms of scaling. It gives many tools&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;to optimize performance and meet demands.&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;We can set different global parameters which affect scalabilty:&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;parallelism,&amp;nbsp;max_active_tasks_per_dag,&amp;nbsp;dag_file_processor_timeout just to name the few&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;Airflow can also deploy more workers to handle increased traffic.&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-30" y="960" width="500" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
